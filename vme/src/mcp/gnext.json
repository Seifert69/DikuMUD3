{
    "keyword": "gnext",
    "opcode": "DILSF_GNX",
    "yacc_rule": "| DILSF_GNX /* .gnext */\n{\n    INITEXP($$);\n    $$.rtyp = DilVarType_e::DILV_UP;\n    $$.typ = DilVarType_e::DILV_UP;\n    $$.dsl = DSL_DYN;\n    $$.num = DILF_GNX;\n}",
    "dilfe_name": "DILF_GNX",
    "c_implementation": "case DILF_GNX:\n            switch (dil_getval(v1))\n            {\n                case DILV_NULL: /* not applicable */\n                case DILV_FAIL:\n                    v->type = DILV_FAIL; /* not applicable */\n                    break;\n                case DILV_UP:\n                {\n                    auto *unit = reinterpret_cast<unit_data *>(v1->val.ptr);\n                    if (unit)\n                    {\n                        v->atyp = DILA_NORM;\n                        v->type = DILV_UP;\n                        v->val.ptr = unit->getGlobalNext();\n                    }\n                    else\n                    {\n                        v->type = DILV_FAIL; /* not applicable */\n                    }\n                }\n                break;\n\n                default:\n                    v->type = DILV_ERR; /* wrong type */\n                    break;\n            }\n            break;",
    "dil_example": "dilbegin look_signature();\nvar\n  pc:unitptr;\n  code\n  {\n  heartbeat:=PULSE_SEC*3;\n  :start:\n  wait (SFB_CMD,(\n  (command (\"look\")) and\n  ((\"signature\"==argument ) or (\"signatures\" == argument))\n  ));\n  block;\n  pc:=ghead();\nsendtext (\"The following book signers are on line.<br/><br/>\",activator);\n\n     while (pc.type==UNIT_ST_PC)\n      {\n      if (((isset (pc.pcflags,PC_PK_RELAXED)) or\n\t\t\t(dilfind (\"no_kill@function\",pc))) and\n      (pc.level<200) and\n      (visible (activator,pc)))\n     sendtext(pc.name+\" \"+pc.title+\"<br/>\",activator);\n      pc:=pc.gnext;\n      }\n\ngoto start;\n} dilend"
}