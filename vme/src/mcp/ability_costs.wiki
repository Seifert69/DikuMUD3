= ability_costs =

The '''ability_costs''' field is a read-only array field available on player character units that provides access to the training costs for abilities based on the character's race.

== Syntax ==
 player.ability_costs[ability_index]

== Field Access ==
{| class="wikitable"
! Access !! Type !! Description
|-
| player.ability_costs[ability_index] || integer || The training cost for specified ability
|}

== Parameters ==
{| class="wikitable"
! Parameter !! Type !! Description
|-
| ability_index || integer || Ability index (ABIL_* constant)
|}

== Return Value ==
Returns an integer representing the training cost:
* '''integer''' - The training cost value for the specified ability
* '''fail''' - If player unit is invalid, not a PC, or ability index is out of range

== Ability Constants ==
The ability_index parameter accepts any of the ABIL_* constants defined in values.h or vme.h:

{| class="wikitable"
! Constant !! Description
|-
| ABIL_STR || Strength training cost
|-
| ABIL_DEX || Dexterity training cost
|-
| ABIL_CON || Constitution training cost
|-
| ABIL_CHA || Charisma training cost
|-
| ABIL_BRA || Brains/Intelligence training cost
|-
| ABIL_MAG || Magic training cost
|-
| ABIL_DIV || Divine training cost
|-
| ABIL_HP || Hit Points training cost
|-
| ABIL_STRUCT || Structure training cost
|}

== Examples ==
=== Basic Cost Check ===
 dilbegin check_ability_cost(player : unitptr, ability : integer);
 code
 {
    if (player.type != UNIT_ST_PC) {
       send("This function only works on players.");
       quit;
    }
    
    if (ability >= 0 and ability < ABIL_TREE_MAX) {
       send("Training cost: " + itoa(player.ability_costs[ability]));
    } else {
       send("Invalid ability index.");
    }
    quit;
 } dilend

=== Race-Based Cost Analysis ===
 dilbegin analyze_training_costs(player : unitptr);
 var
    i : integer;
    total_cost : integer;
 code
 {
    if (player.type != UNIT_ST_PC) {
       send("This function only works on players.");
       quit;
    }
    
    total_cost := 0;
    for (i := 0; i < ABIL_TREE_MAX; i := i + 1) {
       send("Ability " + itoa(i) + " cost: " + itoa(player.ability_costs[i]));
       total_cost := total_cost + player.ability_costs[i];
    }
    send("Total training cost for all abilities: " + itoa(total_cost));
    quit;
 } dilend

=== Training Cost Comparison ===
 dilbegin compare_costs(player1 : unitptr, player2 : unitptr);
 var
    i : integer;
 code
 {
    if (player1.type != UNIT_ST_PC or player2.type != UNIT_ST_PC) {
       send("Both units must be players.");
       quit;
    }
    
    for (i := 0; i < ABIL_TREE_MAX; i := i + 1) {
       if (player1.ability_costs[i] != player2.ability_costs[i]) {
          send("Ability " + itoa(i) + " costs differ:");
          send("  Player 1: " + itoa(player1.ability_costs[i]));
          send("  Player 2: " + itoa(player2.ability_costs[i]));
       }
    }
    quit;
 } dilend

=== Cost Validation ===
 dilbegin can_afford_training(player : unitptr, ability : integer);
 var
    cost : integer;
    money : integer;
 code
 {
    if (player.type != UNIT_ST_PC) {
       send("This function only works on players.");
       quit;
    }
    
    if (ability < 0 or ability >= ABIL_TREE_MAX) {
       send("Invalid ability index.");
       quit;
    }
    
    cost := player.ability_costs[ability];
    money := player.money[0]; /* Gold coins */
    
    if (money >= cost) {
       send("You can afford this training.");
    } else {
       send("You need " + itoa(cost - money) + " more gold coins.");
    }
    quit;
 } dilend

== Error Handling ==
The field performs comprehensive validation:
* '''Player validation'' - Ensures unit is a valid PC (not NPC)
* '''Index validation'' - Checks that ability index is between 0 and ABIL_TREE_MAX - 1
* '''Type validation'' - Returns fail if accessed on non-PC units

Note: The C implementation shows that this field:
* Only works on player characters (PCs), not NPCs
* Uses get_racial_ability() function to calculate costs based on race
* Has commented-out code that suggests it was originally designed to return references for certain access levels
* Uses is_in() to validate ability index range

== Usage Notes ==
* This field is read-only for reading ability training costs
* Only available on player character units (UNIT_ST_PC type)
* Costs vary based on the character's race
* The field is commonly used for training systems, guild masters, and cost validation
* Ability costs are typically used in conjunction with character's money for training validation
* Ability constants are defined in values.h and vme.h header files
* This field appears to be obsolete or rarely used based on code comments

== Related Fields ==
* [[abilities]] - Array of ability score values
* [[race]] - Character race field
* [[money]] - Character money array for cost validation

== Related Functions ==
* [[reset_race]] - Function to reset character race and related attributes
* [[get_racial_ability]] - Internal function for racial ability calculations

== See Also ==
* [[unitptr]] - Unit pointer data type
* [[UNIT_ST_PC]] - Player character unit type
* [[RACE_*]] - Race constants
* [[ABIL_*]] - Ability constants