= sendtoall =
 function: void '''sendtoall'''(m : string, s : string);

The '''sendtoall''' function sends a message to all DIL programs that match a specific database name pattern.

== Description ==
The sendtoall function sends a message to all DIL programs in the entire MUD that have a specific database name matching the provided pattern. This is commonly used for global announcements, system-wide notifications, or communicating with specific types of DIL programs (like all programs with a certain zone or function). The message is sent with the SFB_MSG message class, allowing receiving programs to filter and respond appropriately.

== PARAMETERS ==
{| class="wikitable"
! Parameter !! Type !! Description
|-
| m || string || The message to send to all matching DIL programs
|-
| s || string || The database name pattern to match against DIL programs
|}

== Examples ==
=== Global Announcement ===
 dilbegin system_shutdown(minutes : integer);
 var
     message : string;
 code
 {
     message := "SYSTEM SHUTDOWN IN " + itoa(minutes) + " MINUTES!";
     sendtoall(message, "sys_control");
 }
 dilend

=== Zone-Wide Communication ===
 dilbegin zone_announcement(zone_name : string, announcement : string);
 var
     message : string;
 code
 {
     message := "ZONE ANNOUNCEMENT: " + zone_name + " - " + announcement;
     sendtoall(message, zone_name + "_*");
 }
 dilend

=== Function-Type Communication ===
 dilbegin notify_all_wizards(spell_name : string);
 var
     message : string;
 code
 {
     message := "NEW SPELL AVAILABLE: " + spell_name;
     sendtoall(message, "spell_*");
 }
 dilend

=== Emergency Broadcast ===
 dilbegin emergency_alert(alert_type : string, location : string);
 var
     message : string;
 code
 {
     message := "EMERGENCY [" + alert_type + "] AT " + location;
     sendtoall(message, "emergency_*");
 }
 dilend

== Usage Notes ==
* The function sends messages to all DIL programs matching the database name pattern
* The pattern matching uses string comparison, not exact matching
* Wildcards (*) can be used in the database name pattern
* Messages are sent with SFB_MSG message class
* Receiving programs must be waiting with interrupt(SFB_MSG, ...) to receive messages

== Pattern Matching ==
The database name pattern matching follows these rules:
* Exact match: "program_name" matches only programs with that exact name
* Wildcard match: "prefix_*" matches all programs starting with "prefix_"
* Multiple wildcards: "*_admin*" matches all admin programs
* Case-sensitive matching applies to database names

== Error Handling ==
* Function will fail if either parameter is null or invalid
* No validation of message content - any string is accepted
* No return value - function is void and cannot indicate success or failure

== Related Functions/Fields ==
* [[Manual:DIL_Manual/sendto|sendto]] - Function for sending messages to specific units
* [[Manual:DIL_Manual/sendtoalldil|sendtoalldil]] - Function for sending to specific DIL programs
* [[Manual:DIL_Manual/interrupt|interrupt]] - Function for receiving incoming messages
* [[Manual:DIL_Manual/unitptr|unitptr]] - Unit pointer type and database name matching
* [[Manual:DIL_Manual/nameidx|nameidx]] - Field for unit's database name

== See Also ==
* DIL program communication and coordination
* Message passing and synchronization systems
* Database name patterns and matching