= delcolor =
 function: '''delcolor'''(unit : unitptr, color_name : string) : integer;

The '''delcolor''' function removes a color from a player character's color list.

== Description ==
The delcolor function removes a color from a player character's personal color list. This function allows players to manage their custom color settings by removing colors they no longer want to use.

== Parameters ==
{| class="wikitable"
! Parameter !! Type !! Description
|-
| unit || unitptr || The player character from which to delete the color
|-
| color_name || string || The name of the color to delete
|}

== Return Value ==
Returns an integer:
* '''1''' (TRUE) - If the color was successfully deleted
* '''0''' (FALSE) - If the color was not found or deletion failed

== Examples ==
=== Basic Color Removal ===
 dilbegin remove_color();
 code
 {
    if (delcolor(self, "old_red")) {
       act("Color 'old_red' has been removed from your list.", A_ALWAYS, self, null, null, TO_CHAR);
    } else {
       act("Color 'old_red' was not found in your color list.", A_ALWAYS, self, null, null, TO_CHAR);
    }
    quit;
 } dilend

=== Conditional Color Removal ===
 dilbegin cleanup_colors();
 var
    colors_to_remove : stringlist;
 code
 {
    colors_to_remove := {"old_red", "bright_blue", "dark_green"};
    
    foreach (color_name in colors_to_remove) {
       if (delcolor(self, color_name)) {
          act("Color '" + color_name + "' has been removed.", A_ALWAYS, self, null, null, TO_CHAR);
       }
    }
    
    act("Color cleanup completed. Removed " + itoa(length(colors_to_remove)) + " colors.", 
          A_ALWAYS, self, null, null, TO_CHAR);
    quit;
 } dilend

=== Color Management System ===
 dilbegin color_manager();
 var
    command : string;
    color_name : string;
 code
 {
    wait(SFB_CMD, TRUE);
    command := argument;
    
    if (command == "removecolor") {
       color_name := getword(argument, 1);
       
       if (color_name != "") {
          if (delcolor(self, color_name)) {
             act("Color '" + color_name + "' removed successfully.", A_ALWAYS, self, null, null, TO_CHAR);
          } else {
             act("Color '" + color_name + "' not found.", A_ALWAYS, self, null, null, TO_CHAR);
          }
       } else {
          act("Usage: removecolor <color_name>", A_ALWAYS, self, null, null, TO_CHAR);
       }
    } else if (command == "listcolors") {
       act("Your available colors:", A_ALWAYS, self, null, null, TO_CHAR);
       // Implementation would list all available colors
    } else {
       act("Unknown command. Available: removecolor, listcolors", A_ALWAYS, self, null, null, TO_CHAR);
    }
    quit;
 } dilend

=== Color Validation ===
 dilbegin safe_remove_color();
 var
    color_name : string;
 code
 {
    color_name := argument;
    
    // Validate color name
    if (length(color_name) > 20) {
       act("Color names must be 20 characters or less.", A_ALWAYS, self, null, null, TO_CHAR);
       quit;
    }
    
    if (delcolor(self, color_name)) {
       act("Color '" + color_name + "' removed successfully.", A_ALWAYS, self, null, null, TO_CHAR);
    } else {
       act("Color '" + color_name + "' not found or invalid.", A_ALWAYS, self, null, null, TO_CHAR);
    }
    quit;
 } dilend

== Usage Notes ==
* Only works on player characters (UNIT_ST_PC)
* The color name must be 20 characters or less and contain only alphanumeric characters and underscores
* Color names are case-sensitive
* Returns TRUE if color was found and deleted, FALSE if not found or failed
* Used to clean up unwanted or obsolete color entries
* The function performs security checks to prevent unauthorized color modifications

== Error Handling ==
The function performs validation:
* '''Unit validation''' - Ensures unit is a player character
* '''Color name validation''' - Checks color name length and valid characters
* '''Security check''' - Only allows color deletion on player's own color list

== Related Functions ==
* [[Manual:DIL_Manual/addcolor|addcolor]] - Add a color to a player's color list
* [[Manual:DIL_Manual/getcolor|getcolor]] - Get a color from a player's color list

== See Also ==
* [[Manual:DIL_Manual/UNIT_ST_PC|UNIT_ST_PC]] - Player character unit type
* [[Manual:DIL_Manual/color system|color system]] - Player color management