= UNIT_ST_ROOM =

 constant: '''UNIT_ST_ROOM'''

Unit type constant that identifies rooms.

== Description ==
The '''UNIT_ST_ROOM''' constant is used to identify units that are rooms in the DikuMUD3 system. This constant is commonly used in type checking operations to distinguish between rooms and other unit types like characters, objects, or NPCs.

When checking unit types, the following constants are commonly used together:
* '''UNIT_ST_ROOM''' - Rooms
* '''UNIT_ST_PC''' - Player characters
* '''UNIT_ST_NPC''' - Non-player characters
* '''UNIT_ST_OBJ''' - Objects

The '''UNIT_ST_ROOM''' constant is read-only and cannot be modified at runtime. It's primarily used with the '''type''' function to determine the actual type of a unit pointer and in conditional statements to implement room-specific behaviors.

== Examples ==
=== Basic Room Type Check ===
 dilbegin room_checker();
 var
    target : unitptr;
 code
 {
    :start:
    wait(SFB_CMD, TRUE);
    target := activator;
    
    if (target.type == UNIT_ST_ROOM)
    {
       exec("say Target is a room.", self);
    }
    else
    {
       exec("say Target is not a room.", self);
    }
    
    goto start;
 } dilend

=== Room Property Access ===
 dilbegin room_properties();
 var
    room : unitptr;
 code
 {
    :start:
    wait(SFB_CMD, command("roominfo"));
    room := activator;
    
    if (room.type == UNIT_ST_ROOM)
    {
       exec("say Room name: " + room.name, self);
       exec("say Room description: " + room.descr, self);
       exec("say Room flags: " + itoa(room.roomflags), self);
    }
    else
    {
       exec("say Target is not a room.", self);
    }
    
    goto start;
 } dilend

== Usage Notes ==
* '''UNIT_ST_ROOM''' is used to distinguish rooms from other unit types
* The constant is read-only and cannot be modified at runtime
* Type checking is commonly done using bitwise operations with other unit type constants
* Rooms have special properties like '''roomflags''', '''movement''', and '''exit_names[]'''
* The constant is essential for implementing room-specific behaviors and restrictions
* Type checking prevents inappropriate operations on non-room units
* Always validate unit pointers before checking their type
* Use proper bounds checking when accessing room properties by index

== Error Handling ==
* Always validate that unit pointers are not null before checking their type
* Remember that '''UNIT_ST_ROOM''' is a constant, not a variable that can be changed
* Use proper type checking to avoid runtime errors
* Be careful with assumptions about unit types - always validate using constants
* Test type checking logic thoroughly with all possible unit types
* Consider edge cases where unit type might be unknown or invalid
* Use appropriate bounds checking when accessing room properties by index

== Related Functions/Fields ==
* [[Manual:DIL_Manual/type|type]] - Function to get the type of a unit
* [[Manual:DIL_Manual/roomflags|roomflags]] - Room flags field (room only)
* [[Manual:DIL_Manual/movement|movement]] - Room movement field (room only)
* [[Manual:DIL_Manual/exit_names|exit_names]] - Room exit names field (room only)
* [[Manual:DIL_Manual/UNIT_ST_PC|UNIT_ST_PC]] - Player character type constant
* [[Manual:DIL_Manual/UNIT_ST_NPC|UNIT_ST_NPC]] - NPC type constant
* [[Manual:DIL_Manual/UNIT_ST_OBJ|UNIT_ST_OBJ]] - Object type constant

== See Also ==
* [[Manual:DIL_Manual/UNIT_ST_PC|UNIT_ST_PC]] - Player character type constant
* [[Manual:DIL_Manual/UNIT_ST_NPC|UNIT_ST_NPC]] - NPC type constant
* [[Manual:DIL_Manual/UNIT_ST_OBJ|UNIT_ST_OBJ]] - Object type constant
* [[Manual:DIL_Manual/type|type]] - Unit type checking function
* [[Manual:DIL_Manual/roomflags|roomflags]] - Room flags field documentation
* [[Manual:DIL_Manual/movement|movement]] - Room movement field documentation
* [[Manual:DIL_Manual/exit_names|exit_names]] - Room exit names field documentation