= dispatch =
 function: '''dispatch'''(s : string);

'''dispatch''' is a DIL function that sends a message to the MUD's dispatcher system for external processing.

== Description ==
The dispatch function sends a string message to the MUD's external dispatcher system. This allows DIL programs to communicate with external processes and services that are monitoring or managing the game world.

The dispatcher system typically handles:
* External service communication
* Cross-system messaging
* Administrative notifications
* Integration with external tools and services

== PARAMETERS ==
{| class="wikitable"
! Parameter !! Type !! Description
|-
| s || string || String message to send to the dispatcher system
|}

== Error Handling ==
The function performs basic error checking:
* Returns fail if the dispatcher system is unavailable
* Returns fail if the message parameter is invalid

== Usage Notes ==
* Messages are sent to the system's pipe dispatcher
* The function is commonly used for:
** Bug reporting systems
** External logging services
** Integration with Discord/IRC bots
** Administrative notifications
** Cross-server communication

== Example ==
 dilbegin aware cmd_bugs(st : string);
 var
    t : string;
    z : unitptr;
    i : integer;
 code
 {
    if (self.type!=UNIT_ST_PC)
       return;
    sendtext("Enter your bug reports. You have approximately 4000 "+
             "characters to work with. Note that if you input only a "+
             "single word or nothing at all, it will abort.<br/>", self);
    beginedit(self);
    wait(SFB_EDIT, self == activator);
    t := argument;
    if (length(getwords(t)) < 2)
    {
       sendtext("Insufficient report. Exiting.<br/>", self);
       quit;
    }
    z := self.outside;
    while (z.type != UNIT_ST_ROOM)
       z := z.outside;
    t := z.symname + " ["+self.name+"] " + asctime(realtime)+ argument;
    t := textformat(t);
    i := flog("bugs", t, "a");
    sendtext("Thank you. They will be corrected.<br/>", self);
    dispatch("discord msg #bugs @" + self.name + " bug report: " + t); // Send to dispatcher.py via pipeDispatcher

    quit;
 } dilend

== Related Functions/Fields ==
* [[Manual:DIL_Manual/flog|flog]] - Write to log files
* [[Manual:DIL_Manual/log|log]] - Log messages to system
* [[Manual:DIL_Manual/sendtext|sendtext]] - Send text to players

== See Also ==