= exit_key =

'''exit_key[]''' is used to access the key identifier for room exits. This field is available only on room units (UNIT_ST_ROOM) and provides read access to the symbolic name of the key required to lock/unlock the exit.

== Syntax ==
  key_string := room_unit.exit_key[direction];

== Parameters ==
; direction
: An integer specifying the exit direction. Must be one of the directional constants (NORTH, EAST, SOUTH, WEST, UP, DOWN) as defined in values.h and/or vme.h.

== Return Value ==
Returns a string containing the symbolic name of the key that can lock/unlock this exit. The string is in the format "key_name@zone_name". If no key is required, returns an empty string.

== Description ==
The '''exit_key''' field provides access to the key identifier associated with a room exit. This identifier is the symbolic name of the key object that can be used to lock or unlock the exit. The key can be located using the findsymbolic() function.

The key string format follows the standard DikuMUD symbolic naming convention:
* "key_name@zone_name" - specifies a key from a particular zone
* The key must exist in the game world and be possessed by the player to work

== Examples ==
=== Checking if an exit has a key ===
 if (room.exit_key[NORTH] != "")
 {
    act("The northern exit requires a key.", A_ALWAYS, self, null, null, TO_CHAR);
 }

=== Finding and using a key ===
 key_name := room.exit_key[EAST];
 if (key_name != "")
 {
    key_obj := findsymbolic(self, key_name, FIND_UNIT_IN_ME);
    if (key_obj != null)
    {
       act("You have the proper key.", A_ALWAYS, self, null, null, TO_CHAR);
    }
    else
    {
       act("You don't have the key for this exit.", A_ALWAYS, self, null, null, TO_CHAR);
    }
 }

=== Locking an exit with key verification ===
 if (room.exit_key[SOUTH] != "")
 {
    required_key := findsymbolic(self, room.exit_key[SOUTH], FIND_UNIT_IN_ME);
    if (required_key != null)
    {
       set(room.exit_info[SOUTH], EX_LOCKED);
       act("You lock the door.", A_ALWAYS, self, null, null, TO_CHAR);
    }
    else
    {
       act("You need the proper key.", A_ALWAYS, self, null, null, TO_CHAR);
    }
 }

== Notes ==
* The exit must exist for the specified direction, otherwise the operation will fail
* The direction parameter must be valid (0 to MAX_EXIT-1)
* This field is read-only - keys cannot be changed through DIL programs
* This field is only available on room units (UNIT_ST_ROOM)
* An empty string indicates that no key is required for the exit
* Immortals (level >= IMMORTAL_LEVEL) can typically lock/unlock exits without keys

== See Also ==
* [[exit_info]] - Get/set exit flags (locked, closed, etc.)
* [[exit_names]] - Get the names of exits
* [[exit_to]] - Get the destination room of an exit
* [[findsymbolic]] - Find a unit by its symbolic name
* [[key]] - Get the key for individual units (containers, doors, etc.)