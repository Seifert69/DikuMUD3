= abilities =
 field: integer '''.abilities'''[ability_index] (Read-only)

The '''abilities''' field provides access to character ability scores for both PCs and NPCs.

== Description ==
Accesses ability scores for character units using array indexing with ABIL_* constants.

== Parameters ==
{| class="wikitable"
! Parameter !! Type !! Description
|-
| ability_index || integer || Ability index (ABIL_* constant)
|}

== Field Access ==
{| class="wikitable"
! Access !! Type !! Description
|-
| character.abilities[ability_index] || integer || The ability score for specified ability
|}

== Availability ==
This field is available on the following unit types:
* UNIT_ST_PC (Player Character)
* UNIT_ST_NPC (Non-Player Character)

== Ability Constants ==
The ability_index parameter accepts any of the following constants defined in values.h or vme.h:

{| class="wikitable"
! Constant !! Description
|-
| ABIL_STR || Strength - Physical power and damage
|-
| ABIL_DEX || Dexterity - Agility and coordination
|-
| ABIL_CON || Constitution - Health and stamina
|-
| ABIL_CHA || Charisma - Social interaction and leadership
|-
| ABIL_BRA || Brains - Intelligence and reasoning
|-
| ABIL_MAG || Magic - Magical aptitude and power
|-
| ABIL_DIV || Divine - Divine connection and faith
|-
| ABIL_HP || Hit Points - Health and vitality
|}

== Examples ==
=== Basic Ability Check ===
 dilbegin check_strength(character : unitptr);
 code
 {
    if (character.abilities[ABIL_STR] > 15) {
       send("You are very strong!");
    } else {
       send("You could use more strength training.");
    }
    quit;
 } dilend

=== Skill Check Example ===
 dilbegin skill_check(character : unitptr, difficulty : integer);
 var
    dex_check : integer;
 code
 {
    dex_check := character.abilities[ABIL_DEX];
    if (openroll(5, 100) + dex_check > difficulty) {
       send("You succeed at the dexterity check!");
    } else {
       send("You fail the dexterity check.");
    }
    quit;
 } dilend

=== NPC Ability Setup ===
 dilbegin create_guard();
 code
 {
    self.abilities[ABIL_STR] := 150;
    self.abilities[ABIL_DEX] := 120;
    self.abilities[ABIL_CON] := 140;
    self.abilities[ABIL_BRA] := 100;
    position_update(self);
    quit;
 } dilend

=== Combat Skill Calculation ===
 dilbegin combat_skill(attacker : unitptr, defender : unitptr);
 var
    attack_skill, defense_skill : integer;
 code
 {
    attack_skill := (attacker.abilities[ABIL_DEX] + attacker.abilities[ABIL_STR]) / 2;
    defense_skill := (defender.abilities[ABIL_DEX] * 2) / 3;    
    if (openroll(5, 100) + attack_skill > openroll(5, 100) + defense_skill) {
       send("Attack hits!");
    } else {
       send("Attack misses!");
    }
    quit;
 } dilend

== Error Handling ==
The field performs comprehensive validation:
* '''Character validation'' - Ensures the unit is a valid character type
* '''Index validation'' - Checks that ability index is between 0 and ABIL_TREE_MAX - 1
* '''Type validation'' - Returns fail if accessed on non-character units

Note: The C implementation shows different behavior for PCs vs NPCs:
* For PCs: Returns integer value or reference depending on zone access level
* For NPCs: Returns unsigned integer reference
* Uses is_in() to validate ability index range

== Usage Notes ==
* This field is read-only for reading ability scores
* Only available on character units (UNIT_ST_PC and UNIT_ST_NPC types)
* Ability scores are typically in range 0-255, with higher values being better
* The field is commonly used for skill checks, combat calculations, and character validation
* Use with position_update() after modifying abilities on NPCs
* Ability constants are defined in values.h and vme.h header files

== Related Fields ==
* [[weapons]] - Array of weapon skill values
* [[charflags]] - Character flags and affects
* [[level]] - Character level
* [[exp]] - Character experience points

== See Also ==
* [[unitptr]] - Unit pointer data type
* [[position_update]] - Function to update character after ability changes
* [[openroll]] - Function for dice rolls and skill checks
* [[UNIT_ST_PC]] - Player character unit type
* [[UNIT_ST_NPC]] - Non-player character unit type
