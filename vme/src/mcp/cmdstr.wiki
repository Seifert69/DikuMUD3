= cmdstr =
 field: string '''cmdstr''' (Read-only)

The '''cmdstr''' field contains the full command string as entered by a player.

== Description ==
The cmdstr variable contains the full command string as entered by a player, but with command expansion applied by the interpreter. This variable is available within DIL programs that are activated by player commands (SFB_CMD).

The cmdstr represents the command portion of what the player typed, after the interpreter has expanded any abbreviations or aliases. For example, if a player types "s" (abbreviation for "south"), cmdstr will contain "south".

== Field Access ==
{| class="wikitable"
! Access !! Type !! Description
|-
| cmdstr || string || The expanded command string as entered by the player
|}

== Examples ==
=== Basic Command Processing ===
 dilbegin command_handler();
 code
 {
    if (cmdstr == "north") {
       act("You go north.", A_ALWAYS, self, null, null, TO_CHAR);
    } else if (cmdstr == "south") {
       act("You go south.", A_ALWAYS, self, null, null, TO_CHAR);
    } else {
       act("Unknown command: " + cmdstr, A_ALWAYS, self, null, null, TO_CHAR);
    }
    quit;
 } dilend

=== Command Validation ===
 dilbegin validate_command();
 code
 {
    if ((cmdstr == "remove") and (cmdstr != "remove")) {
       act("Command expansion detected: " + cmdstr, A_ALWAYS, self, null, null, TO_CHAR);
    } else {
       act("Command accepted: " + cmdstr, A_ALWAYS, self, null, null, TO_CHAR);
    }
    quit;
 } dilend

=== Command Logging ===
 dilbegin log_commands();
 code
 {
    log("Player " + activator.name + " used command: " + cmdstr + " with args: " + argument);
    
    // Process based on expanded command
    if (cmdstr == "look") {
       act("You look around.", A_ALWAYS, self, null, null, TO_CHAR);
    } else if (cmdstr == "say") {
       act("You say '" + argument + "'", A_ALWAYS, self, null, null, TO_CHAR);
    }
    quit;
 } dilend

=== Command Comparison ===
 dilbegin compare_commands();
 var
    full_command : string;
 code
 {
    full_command := cmdstr + " " + argument;
    act("Full command: " + full_command, A_ALWAYS, self, null, null, TO_CHAR);
    
    // Show individual parts
    act("Command: " + cmdstr, A_ALWAYS, self, null, null, TO_CHAR);
    act("Argument: " + argument, A_ALWAYS, self, null, null, TO_CHAR);
    quit;
 } dilend

=== Abbreviation Detection ===
 dilbegin detect_abbreviation();
 code
 {
    if ((cmdstr == "n") and (cmdstr != "north")) {
       act("Abbreviation detected: 'n' expanded to 'north'", A_ALWAYS, self, null, null, TO_CHAR);
    } else if ((cmdstr == "s") and (cmdstr != "south")) {
       act("Abbreviation detected: 's' expanded to 'south'", A_ALWAYS, self, null, null, TO_CHAR);
    } else {
       act("Command: " + cmdstr, A_ALWAYS, self, null, null, TO_CHAR);
    }
    quit;
 } dilend

== Usage Notes ==
* This is a read-only variable that contains the expanded command
* cmdstr + " " + argument gives the complete command string as entered by the player
* The command is expanded by the interpreter (abbreviations become full commands)
* Only available in DIL programs activated by SFB_CMD (command triggers)
* Useful for parsing and processing player commands
* The command expansion is done before the DIL program receives control

== Error Handling ==
The field performs validation:
* '''Automatic validation''' - The field is automatically set by the DIL runtime
* '''Context validation''' - Only meaningful when accessed within command-triggered DIL programs
* '''Type validation''' - Always returns a string (may be empty)

== Related Fields ==
* [[excmdstr]] - Original command as typed (lowercase)
* [[excmdstr_case]] - Original command as typed (preserves case)
* [[argument]] - Command arguments

== Related Functions ==
* [[command]] - Check if a specific command was used
* [[SFB_CMD]] - Command activation wait flag

== See Also ==
* [[command interpreter]] - Command processing system
* [[command expansion]] - Abbreviation and alias system