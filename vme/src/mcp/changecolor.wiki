= changecolor =
function: [integer] '''changecolor'''(ch : unitptr, ks : string, cstr : string);

The '''changecolor''' function modifies an existing color entry in a player's personal color list.

== Description ==
The '''changecolor''' function modifies an existing color entry in a player's personal color list. This function only works on player characters and will fail if used on NPCs or other unit types.

The function first checks if the specified color key exists in the player's color list. If the key exists, it updates the color value with the new color string provided. If the key does not exist, the function returns FALSE without making any changes.

== Parameters ==
{| class="wikitable"
! Parameter !! Type !! Description
|-
| ch || unitptr || Character to change the color on (must be a player character)
|-
| ks || string || Key string for the color (maximum 20 characters, alphanumeric and underscore only)
|-
| cstr || string || Color string to assign to the key
|}

== Return Value ==
Returns 1 (TRUE) if the color was successfully changed, 0 (FALSE) if the color key was not found.

== Availability ==
This function is available on the following unit types:
* UNIT_ST_PC (Player Character)

== Examples ==
 dilbegin update_clan_color();
 code
 {
    if (changecolor(activator, "clan_who", "&c+w&bn"))
        act("Your clan color has been updated.", A_ALWAYS, activator, null, null, TO_CHAR);
    else
        act("Color key 'clan_who' not found.", A_ALWAYS, activator, null, null, TO_CHAR);
    quit;
 } dilend

== Usage Notes ==
* Only works on player characters (PCs)
* The key string must be 20 characters or less
* The key string can only contain alphanumeric characters and underscores
* The function only modifies existing color entries - it does not create new ones

== Error Handling ==
The function will fail and return FALSE if:
* The target unit is not a player character
* The key string is longer than 20 characters
* The key string contains invalid characters
* The specified color key does not exist in the player's color list

== Related Functions/Fields ==
* [[addcolor]] - Add new color entries to a player's color list
* [[delcolor]] - Remove color entries from a player's color list

== See Also ==
* [[getcolor]] - Retrieve color values from a player's color list