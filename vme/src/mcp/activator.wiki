= activator =
 field: unitptr '''.activator''' (Read-only)

The '''activator''' field is a read-only unit pointer field available in DIL programs that provides access to the unit which activated the current DIL program.

== Description ==
This field provides access to the unit that triggered the current DIL program. It's automatically set by the DIL runtime system when a command, spell, or event activates the program.

== Field Access ==
{| class="wikitable"
! Access !! Type !! Description
|-
| activator || unitptr || The unit that activated the current DIL program
|}

== Availability ==
This field is available in all DIL programs.

== Examples ==
=== Basic Activator Check ===
 dilbegin check_activator();
 code
 {
    if (activator != null) {
       send("Program activated by: " + activator.name);
    } else {
       send("No activator for this program.");
    }
    quit;
 } dilend

=== Security Check ===
 dilbegin security_check();
 code
 {
    if (activator != null) {
       if (activator.level >= IMMORTAL_LEVEL) {
          send("Program activated by an immortal.");
       } else {
          send("Program activated by: " + activator.name + " (Level " + itoa(activator.level) + ")");
       }
    } else {
       send("No activator information available.");
    }
    quit;
 } dilend

=== Spell Casting Detection ===
 dilbegin spell_detection();
 code
 {
    if (activator != null) {
       if (activator.type == UNIT_ST_PC) {
          send("A player cast a spell that activated this program.");
       } else if (activator.type == UNIT_ST_NPC) {
          send("An NPC cast a spell that activated this program.");
       } else {
          send("Unknown unit type activated this program.");
       }
    } else {
       send("No activator information available.");
    }
    quit;
 } dilend

== Error Handling ==
The field performs validation:
* '''Automatic validation'' - The field is automatically set by the DIL runtime
* '''Type validation'' - Always returns a unit pointer (may be null)
* '''Context validation'' - Only meaningful when accessed within an activated DIL program

Note: The field is set by the DIL runtime system when:
* A command is executed by a player/NPC
* A spell is cast that affects a DIL program
* A wait condition is triggered
* An interrupt occurs
* Any other event activates the DIL program

== Usage Notes ==
* This field is read-only and automatically managed by the DIL system
* Only meaningful when accessed within DIL code that was activated by an event
* The field is commonly used for:
** Command processing - Identifying who executed a command
** Security systems - Checking if an immortal activated a program
** Interactive objects - Determining who touched or used an item
** Trap systems - Identifying who triggered a trap
** Spell systems - Detecting magical effects on DIL programs
* The field is null when the DIL program is first created or not yet activated
* Use with wait() and SFB_CMD to create responsive programs that react to different activators

== Related Fields ==
* [[Manual:DIL_Manual/self|self]] - The current unit executing the DIL program
* [[Manual:DIL_Manual/command|command]] - The command that was executed
* [[Manual:DIL_Manual/argument|argument]] - Arguments provided with the command

== See Also ==
* [[Manual:DIL_Manual/unitptr|unitptr]] - Unit pointer data type
* [[Manual:DIL_Manual/SFB_CMD|SFB_CMD]] - Command activation wait flag
* [[Manual:DIL_Manual/wait|wait]] - Function for waiting on specific conditions