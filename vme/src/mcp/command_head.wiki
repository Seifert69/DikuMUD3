= command_head =
 function: '''command_head'''() : cmdptr;

The '''command_head''' function returns a pointer to the first command in the global command list.

== Description ==
The command_head function returns a pointer to the first command in the global command registry. This provides access to the complete command system, allowing DIL programs to iterate through all available commands, examine their properties, and perform command-related operations.

== Return Value ==
Returns a cmdptr:
* '''cmdptr''' - Pointer to the first command in the global command list
* '''null''' - If no commands are available

== Examples ==
=== List All Commands ===
 dilbegin list_all_commands();
 var
    cmd : cmdptr;
    info : string;
    count : integer;
 code
 {
    cmd := command_head();
    count := 0;
    
    while (cmd) {
       info := cmd.name + " (level " + itoa(cmd.level) + ")";
       act("Command: $2t", A_ALWAYS, self, info, null, TO_CHAR);
       cmd := cmd.next;
       count := count + 1;
    }
    
    act("Total commands: " + itoa(count), A_ALWAYS, self, null, null, TO_CHAR);
    quit;
 } dilend

=== Command Analysis ===
 dilbegin analyze_commands();
 var
    cmd : cmdptr;
    total, socials, skills : integer;
 code
 {
    total := 0;
    socials := 0;
    skills := 0;
    
    cmd := command_head();
    
    while (cmd) {
       total := total + 1;
       
       if (cmd.type == 1)  // Assuming type 1 = social
          socials := socials + 1;
       else if (cmd.type == 2)  // Assuming type 2 = skill
          skills := skills + 1;
       
       cmd := cmd.next;
    }
    
    act("Command analysis:", A_ALWAYS, self, null, null, TO_CHAR);
    act("Total commands: " + itoa(total), A_ALWAYS, self, null, null, TO_CHAR);
    act("Social commands: " + itoa(socials), A_ALWAYS, self, null, null, TO_CHAR);
    act("Skill commands: " + itoa(skills), A_ALWAYS, self, null, null, TO_CHAR);
    quit;
 } dilend

=== Command Lookup ===
 dilbegin find_command_info(cmd_name : string);
 var
    cmd : cmdptr;
 code
 {
    cmd := command_head();
    
    while ((cmd) and (cmd.name != cmd_name)) {
       cmd := cmd.next;
    }
    
    if (cmd) {
       act("Command: " + cmd.name, A_ALWAYS, self, cmd.level, null, TO_CHAR);
       act("Required level: " + itoa(cmd.level), A_ALWAYS, self, cmd.position, null, TO_CHAR);
       act("Required position: " + itoa(cmd.position), A_ALWAYS, self, cmd.type, null, TO_CHAR);
    } else {
       act("Command '" + cmd_name + "' not found.", A_ALWAYS, self, null, null, TO_CHAR);
    }
    quit;
 } dilend

=== Command Filtering ===
 dilbegin list_commands_by_level(min_level : integer);
 var
    cmd : cmdptr;
    count : integer;
 code
 {
    count := 0;
    cmd := command_head();
    
    while (cmd) {
       if (cmd.level <= min_level) {
          act(cmd.name + " (level " + itoa(cmd.level) + ")", A_ALWAYS, self, null, null, TO_CHAR);
          count := count + 1;
       }
       cmd := cmd.next;
    }
    
    act("Found " + itoa(count) + " commands you can use.", A_ALWAYS, self, null, null, TO_CHAR);
    quit;
 } dilend

== Usage Notes ==
* The returned cmdptr points to the first command in the global command list
* Use the next field to iterate through subsequent commands
* The command list contains all registered commands in the system
* Each command has properties like name, level, type, loglevel, and position requirements
* This function is identical to chead() - both return the same result
* Commonly used for command help systems, command validation, and administrative tools

== Error Handling ==
The function performs validation:
* '''List validation''' - Ensures global command list is available
* '''Pointer validation''' - Returns null if no commands exist
* '''Type validation''' - Always returns a valid cmdptr or null

== Related Functions ==
* [[Manual:DIL_Manual/getcommand|getcommand]] - Get a specific command by name
* [[Manual:DIL_Manual/cmdptr|cmdptr]] - Command pointer type and field documentation

== See Also ==
* [[Manual:DIL_Manual/command|command]] - Command field for checking current command
* [[Manual:DIL_Manual/SFB_CMD|SFB_CMD]] - Command activation wait flag
* [[Manual:DIL_Manual/global command list|global command list]] - System command registry