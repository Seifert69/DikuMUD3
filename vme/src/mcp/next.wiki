= next =

 field: unitptr '''.next''' (Read-only)

== Description ==
The '''next''' field returns a pointer to the next unit in a linked list for traversal.

== Field Access ==
{| class="wikitable"
! Access !! Type !! Description
|-
| Read || unitptr/extraptr/cmdptr/zoneptr || Returns pointer to next unit in sequence
|}

== Availability ==
This field is available on the following unit types:
* UNIT_ST_PC (Player Character)
* UNIT_ST_NPC (Non-Player Character)
* UNIT_ST_OBJ (Object)
* UNIT_ST_ROOM (Room)
* extraptr (Extra description pointer)
* cmdptr (Command pointer)
* zoneptr (Zone pointer)

== Examples ==
 dilbegin count_inventory_items(pc : unitptr);
 var
    current_item : unitptr;
    item_count : integer;
 code
 {
    current_item := pc.inside;
    item_count := 0;
    
    while (current_item != null)
    {
       item_count := item_count + 1;
       current_item := current_item.next;
    }
    
    exec("say Found " + itoa(item_count) + " items.", self);
 } dilend

 dilbegin walk_extra_descriptions(extra : extraptr);
 var
    current_extra : extraptr;
    count : integer;
 code
 {
    current_extra := extra;
    count := 0;
    
    while (current_extra != null)
    {
       count := count + 1;
       exec("say Extra " + itoa(count) + ": " + current_extra.names.[0], self);
       current_extra := current_extra.next;
    }
 } dilend

== Usage Notes ==
* The '''next''' field is read-only and cannot be modified
* Returns a pointer to the next unit in the respective list/structure
* Returns '''null''' when reaching the end of a list
* Used for traversing:
** Inventory items (unit.inside, unit.outside chains)
** Extra description chains
** Command lists
** Zone lists
** Room exits
* Essential for [[foreach]] loops and list traversal
* Common pattern: check for null before accessing next

== Error Handling ==
* Returns '''fail''' if unit pointer is null or invalid
* Returns '''error''' if accessed on an unsupported unit type
* Always check for null before dereferencing next pointer
* Infinite loops can occur if not properly checking for null termination

== Related Functions/Fields ==
* [[foreach]] - Iterate through units in local environment
* [[findunit]] - Find specific unit by name
* [[ghead]] - Get first unit in global list
* [[inside]] - Access contained units
* [[outside]] - Access containing unit
* [[exit_names]] - Room exit names list

== See Also ==
* Unit type constants: '''UNIT_ST_PC''', '''UNIT_ST_NPC''', '''UNIT_ST_OBJ''', '''UNIT_ST_ROOM'''
* Pointer types: unitptr, extraptr, cmdptr, zoneptr
* List traversal: [[names]], [[length]] for checking bounds
* Navigation functions: [[findroom]], [[walkto]] 