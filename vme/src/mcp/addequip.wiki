= addequip =
function: '''addequip'''(u : unitptr, i : integer);

The '''addequip''' function equips an object unit to a specific equipment position on a character.

== Description ==
The '''addequip''' function equips an object unit to the specified equipment position. The object must be in the character's inventory before calling this function. The equipment position is specified using one of the WEAR_* constants.

== Parameters ==
{| class="wikitable"
! Parameter !! Type !! Description
|-
| u || unitptr || The object unit to be equipped
|-
| i || integer || The equipment position where the object should be equipped (WEAR_* constant)
|}

== Examples ==
<<<<<<< Updated upstream
=== Basic Equipment Usage ===
dilbegin equip_ring(ch : unitptr, ring : unitptr);
code
{
   // Check if the character has an empty finger slot
   if (not (equipment(ch, WEAR_FINGER_L)))
   {
      addequip(ring, WEAR_FINGER_L);
      act("You put $2n on your left finger.", A_ALWAYS, ch, ring, null, TO_CHAR);
   }
   else if (not (equipment(ch, WEAR_FINGER_R)))
   {
      addequip(ring, WEAR_FINGER_R);
      act("You put $2n on your right finger.", A_ALWAYS, ch, ring, null, TO_CHAR);
   }
   else
   {
      act("You're already wearing two rings.", A_ALWAYS, ch, null, null, TO_CHAR);
=======
dilbegin equip_item(item : unitptr);
code
{
   if (equipment(activator, WEAR_FINGER_L) == null)
   {
      addequip(item, WEAR_FINGER_L);
      act("You put $2n on your left finger.", A_ALWAYS, activator, item, null, TO_CHAR);
   }
   else
   {
      sendto("Your left finger is already occupied.", activator);
>>>>>>> Stashed changes
   }
   quit;
} dilend

<<<<<<< Updated upstream
=== Weapon Equipment ===
dilbegin equip_weapon(ch : unitptr, weapon : unitptr);
code
{
   // Unequip any currently wielded weapon
   var wielded : unitptr;
   wielded := equipment(ch, WEAR_WIELD);
   if (wielded)
=======
dilbegin equip_weapon(new_weapon : unitptr);
var
   current_weapon : unitptr;
code
{
   current_weapon := equipment(activator, WEAR_WIELD);
   if (current_weapon != null)
>>>>>>> Stashed changes
   {
      unequip(wielded);
   }
   
<<<<<<< Updated upstream
   // Equip the new weapon
   addequip(weapon, WEAR_WIELD);
   act("You wield $2n.", A_ALWAYS, ch, weapon, null, TO_CHAR);
} dilend

=== Restraint Equipment (from example) ===
dilbegin cuff_target(deputy : unitptr, targ : unitptr, cuffs : unitptr);
var
   depname: string;

code
{
   act("You cuff $3n.", A_SOMEONE, deputy, null, targ, TO_CHAR);
   act("$1n surprises you and put $2n around your wrists.", A_SOMEONE, deputy, cuffs, targ, TO_VICT);
   act("$1n puts $2n around $3N's wrists.", A_SOMEONE, deputy, cuffs, targ, TO_NOTVICT);

   follow(targ, deputy);
   depname := deputy.name;
   link(cuffs, targ);
   unequip(equipment(targ, WEAR_WRIST_R));
   addequip(cuffs, WEAR_WRIST_R);
   dilcopy("cuffed@midgaard("+depname+")", targ);
   dilcopy("cuffed2@midgaard("+depname+")", targ);

   exec("sigh", targ);
   return;
=======
   addequip(new_weapon, WEAR_WIELD);
   act("You wield $2n.", A_ALWAYS, activator, new_weapon, null, TO_CHAR);
   quit;
>>>>>>> Stashed changes
} dilend

== Usage Notes ==
* The object to be equipped must already be in the character's inventory
* The target equipment position must be empty
* Common WEAR_* constants include: WEAR_FINGER_L, WEAR_FINGER_R, WEAR_BODY, WEAR_HEAD, WEAR_LEGS, WEAR_FEET, WEAR_HANDS, WEAR_WIELD, WEAR_HOLD, WEAR_SHIELD

== Error Handling ==
The function will fail silently if:
* The first parameter is not a unit pointer
* The second parameter is not an integer
* The object is not in a character's inventory
* The object is not an object type (UNIT_ST_OBJ)
* The target character is not a character type (UNIT_ST_PC or UNIT_ST_NPC)
* The equipment position is already occupied

== Related Functions/Fields ==
* [[equipment]] - Returns the unit equipped at a specific position
* [[unequip]] - Removes an equipped item
* [[unit_st_obj.equip]] - Field showing an object's current equipment position

== See Also ==
* [[link]]
* [[unit_st_obj]]