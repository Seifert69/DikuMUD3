= type =
 field: integer '''.type''' (Read-only)

The '''type''' field returns the type identifier of a unit or command.

== Description ==
This field provides access to the type identifier of a unit or command. For units, it returns one of the UNIT_ST_* constants indicating whether the unit is a player character, non-player character, object, or room. For commands, it returns the command type identifier. This field is read-only and is commonly used for type checking and conditional logic in DIL programs.

== Field Access ==
{| class="wikitable"
! Access !! Type !! Description
|-
| Read || integer || Returns the type identifier of the unit or command
|}

== Availability ==
This field is available on the following types:
* unitptr (All unit types: UNIT_ST_PC, UNIT_ST_NPC, UNIT_ST_OBJ, UNIT_ST_ROOM)
* cmdptr (Command pointer)

== Examples ==
dilbegin unique check_unit_type(u : unitptr);
var
    unit_type : integer;
code
{
    unit_type := u.type;
    
    if (unit_type == UNIT_ST_PC)
    {
        sendto("This is a player character.&n", self);
    }
    else if (unit_type == UNIT_ST_NPC)
    {
        sendto("This is a non-player character.&n", self);
    }
    else if (unit_type == UNIT_ST_OBJ)
    {
        sendto("This is an object.&n", self);
    }
    else if (unit_type == UNIT_ST_ROOM)
    {
        sendto("This is a room.&n", self);
    }
} dilend

dilbegin unique validate_target(tgt : unitptr);
code
{
    // Only allow targeting of characters
    if (not (tgt.type & (UNIT_ST_PC | UNIT_ST_NPC)))
    {
        sendto("You can only target characters!&n", self);
        quit;
    }
    
    // Continue with valid target...
    sendto("Target validated: " + tgt.name + "&n", self);
} dilend

dilbegin unique command_info(cmd : cmdptr);
var
    cmd_type : integer;
code
{
    cmd_type := cmd.type;
    sendto("Command: " + cmd.name + " Type: " + itoa(cmd_type) + "&n", self);
} dilend

dilbegin unique room_validation(room : unitptr);
code
{
    // Ensure we're in a room
    if (room.type != UNIT_ST_ROOM)
    {
        act("$1n looks confused about $1s surroundings.",
            A_ALWAYS, self, null, null, TO_ALL);
        quit;
    }
    
    sendto("Room confirmed: " + room.title + "&n", self);
} dilend

== Usage Notes ==
* For unitptr, the field returns one of the UNIT_ST_* constants:
** UNIT_ST_PC - Player Character
** UNIT_ST_NPC - Non-Player Character  
** UNIT_ST_OBJ - Object
** UNIT_ST_ROOM - Room
* For cmdptr, the field returns command-specific type information.
* The field is read-only; attempts to modify it will fail.
* Commonly used in conditional statements to determine unit behavior.
* Essential for type validation before accessing unit-specific fields.
* Often used with bitwise operations to check multiple unit types simultaneously.

== Error Handling ==
* Attempting to access the '''type''' field on a null or invalid pointer will result in a DILV_FAIL condition.
* The field will return DILV_ERR if accessed on an inappropriate type that doesn't support type checking.
* No error occurs for valid unitptr or cmdptr types.

== Related Functions/Fields ==
* [[unitptr]] - Unit pointer type documentation
* [[cmdptr]] - Command pointer type documentation
* [[findrndunit]] - Function that uses unit type filtering
* [[foreach]] - Function that can iterate by unit type

== See Also ==
* Unit type constants (UNIT_ST_*)
* Command type documentation
* Type checking and validation functions