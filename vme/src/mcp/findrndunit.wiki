= findrndunit =
 function: unitptr '''findrndunit'''(u : unitptr, sv : integer, uf : integer);

The '''findrndunit''' function returns a random unit that matches the specified criteria within a defined search environment.

== Description ==
This routine returns a random unit that matches the specified criteria. The function searches within the defined environment and returns a unit of the specified type(s).

The '''uf''' parameter lets you specify exactly what unit types to look for using the UNIT_ST_* flags. You can combine multiple unit types using the bitwise OR operator.

The '''sv''' parameter is not a bit vector, although FIND_UNIT_XXX is usually used as such. If you need to search multiple environments, then call the routine once for each.

== PARAMETERS ==
{| class="wikitable"
! Parameter !! Type !! Description
|-
| u || unitptr || The unit pointer which the search is relative to
|-
| sv || integer || The search-location, a value (not bit vector) of FIND_UNIT_XXX
|-
| uf || integer || Bit vector. The unit flags which can match of UNIT_ST_XXX
|}

== Examples ==
u := findrndunit(self, FIND_UNIT_ZONE, UNIT_ST_PC|UNIT_ST_NPC);

== Usage Notes ==
* The '''sv''' parameter is a single value, not a bit vector
* The '''uf''' parameter is a bit vector that can combine multiple UNIT_ST_* flags
* Using FIND_UNIT_PAY or FIND_UNIT_NOPAY will filter by player payment status
* For rooms, payment status affects accessibility
* For objects, payment status filtering returns null

== Error Handling ==
* Returns null if no matching unit is found
* Invalid search location values may cause unexpected behavior

== Related Functions/Fields ==
* [[Manual:DIL_Manual/findunit()|findunit()]] - Find a specific unit by name
* [[Manual:DIL_Manual/findsymbolic()|findsymbolic()]] - Find a unit by symbolic name
* [[Manual:DIL_Manual/foreach()|foreach()]] - Iterate through units of specific types

== See Also ==
* FIND_UNIT_* constants documentation
* UNIT_ST_* constants documentation