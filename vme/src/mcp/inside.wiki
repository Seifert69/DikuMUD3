= inside =
 field: unitptr '''inside''' (Read-only)

The '''inside''' field points to the first unit contained within this unit, or null if the unit is empty.

== Description ==

The '''inside''' field provides access to the first unit in a unit's contents. This creates a linked list structure where you can navigate through all units contained within another unit using the '''next''' field.

This field is read-only (RO) and represents the "contains" relationship in the unit hierarchy. For example, a room's inside field points to the first player/object in that room, and a player's inside field points to the first item in their inventory.

== Field Access ==

{| class="wikitable"
! Access !! Type !! Description
|-
| unit.inside || unitptr || Returns pointer to first contained unit or null
|}

== Availability ==

This field is available on the following unit types:
* UNIT_ST_PC (Player Character)
* UNIT_ST_NPC (Non-Player Character)
* UNIT_ST_OBJ (Object)
* UNIT_ST_ROOM (Room)

== Examples ==

=== Checking if Unit is Empty ===
dilbegin check_contents();
var
   container : unitptr;
code
{
   container := self;
   
   if (container.inside == null)
   {
      act("The container is empty.", A_ALWAYS, activator, null, null, TO_CHAR);
   }
   else
   {
      act("The container contains something.", A_ALWAYS, activator, null, null, TO_CHAR);
   }
} dilend

=== Iterating Through Contents ===
dilbegin list_inventory();
var
   pc : unitptr;
   item : unitptr;
   count : integer;
code
{
   pc := activator;
   count := 0;
   
   item := pc.inside;
   while (item != null)
   {
      act("Item " + itoa(count + 1) + ": " + item.name, 
          A_ALWAYS, pc, null, null, TO_CHAR);
      item := item.next;
      count := count + 1;
   }
   
   if (count == 0)
   {
      act("You are not carrying anything.", A_ALWAYS, pc, null, null, TO_CHAR);
   }
   else
   {
      act("Total items: " + itoa(count), A_ALWAYS, pc, null, null, TO_CHAR);
   }
} dilend

=== Corpse Processing ===
dilbegin process_corpse();
var
   corpse : unitptr;
code
{
   corpse := self;
   
   // Check if corpse has contents
   if (corpse.inside != null)
   {
      act("The corpse still contains items.", A_ALWAYS, activator, null, null, TO_CHAR);
      exec("get all from corpse", activator);
   }
   else
   {
      act("The corpse is empty.", A_ALWAYS, activator, null, null, TO_CHAR);
      exec("bury corpse", activator);
   }
} dilend

== Usage Notes ==

* The field is read-only (RO)
* Returns null if the unit contains no other units
* Creates a linked list structure when combined with the '''next''' field
* Commonly used with while loops to iterate through contents
* Essential for inventory management and container operations
* The typical navigation pattern is: unit := container.inside; while (unit != null) { /* process */ unit := unit.next; }

== Error Handling ==

* Always check if the returned unitptr is null before accessing its fields
* Be careful with nested container navigation to avoid infinite loops
* Ensure proper type checking when processing mixed unit types

== Related Functions/Fields ==

* [[Manual:DIL_Manual/outside|outside]] - The unit that contains this unit
* [[Manual:DIL_Manual/next|next]] - The next unit at the same containment level
* [[Manual:DIL_Manual/foreach|foreach]] - Function for iterating through units of specific types
* [[Manual:DIL_Manual/unitptr|unitptr]] - Information about unit pointers and their fields

== See Also ==

* Inventory management systems
* Container operations
* Unit hierarchy and relationships
* Linked list navigation patterns