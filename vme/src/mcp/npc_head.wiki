= npc_head =

== Syntax ==
 function: unitptr '''npc_head'''();

== Description ==
The '''npc_head''' function returns a pointer to the first NPC in the global NPC list. This function provides access to the head of the global NPC chain, allowing DIL programs to reference and manipulate the first NPC character in the game's NPC hierarchy.

== Return Value ==
Returns '''unitptr''':
* '''unitptr''' - Pointer to the first NPC in the global list
* '''null''' - If no NPCs exist in the global list

== Examples ==
 dilbegin get_first_npc();
 var
    first_npc : unitptr;
 code
 {
    first_npc := npc_head();
    
    if (first_npc != null)
    {
       exec("say First NPC found: " + first_npc.name, self);
       exec("say NPC zone: " + first_npc.zoneidx, self);
    }
    else
    {
       exec("say No NPCs found in global list.", self);
    }
 } dilend

 dilbegin npc_chain_navigation();
 var
    current_npc : unitptr;
    npc_count : integer;
 code
 {
    current_npc := npc_head();
    npc_count := 0;
    
    // Navigate through the global NPC chain
    while (current_npc != null)
    {
       npc_count := npc_count + 1;
       exec("say NPC " + itoa(npc_count) + ": " + current_npc.name, self);
       
       // Move to next NPC in the chain
       current_npc := current_npc.next;
    }
    
    exec("say Found " + itoa(npc_count) + " NPCs in the global chain.", self);
 } dilend

 dilbegin global_npc_management();
 var
    target_npc : unitptr;
 code
 {
    // Get the first NPC for global operations
    target_npc := npc_head();
    
    if (target_npc != null)
    {
       // Perform some global operation on the first NPC
       exec("say Performing operation on: " + target_npc.name, self);
       
       // This could be used for global quest systems, patrols, etc.
    }
    else
    {
       exec("say No NPCs available for global operations.", self);
    }
 } dilend

== Usage Notes ==
* The '''npc_head''' function returns the first NPC in the global NPC list
* Used for global NPC management and operations
* The returned NPC can be used with standard NPC functions and fields
* Returns '''null''' if no NPCs exist in the global list
* This function provides access to the head of the NPC chain for traversal
* Common use cases include:
** Global quest NPC management
** NPC patrol systems
** Global NPC initialization and cleanup
** Access to the primary NPC for administrative functions

== Error Handling ==
* Returns '''null''' if no NPCs exist in the global list
* Always validate the returned pointer before use
* The function itself does not validate parameters

== Related Functions/Fields ==
* [[ghead]] - Get first unit in global list (same as npc_head for NPCs)
* [[next]] - Navigate to next unit in a list (used for NPC chain traversal)
* Global NPC management functions
* Unit type constants: '''UNIT_ST_NPC'''
* NPC-specific fields: [[npcflags]], [[natural_armour]], [[defaultpos]]

== See Also ==
* Global list management functions
* NPC creation and management functions
* Unit pointer operations and traversal
* Chain navigation patterns using [[next]] field