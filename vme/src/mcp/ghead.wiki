= ghead =
 function: unitptr '''ghead'''();

The ghead() function returns the first unit in the global unit list, providing access to all units currently active in the game.

== Description ==
 The '''ghead'''() function returns the first unit in the global unit list, providing access to all units currently active in the game. The global list contains all units (players, NPCs, objects, rooms) in the order they were created or logged in.

 This function is commonly used to iterate through all units in the game, particularly for:
 * Finding all online players
 * Performing global operations on all units
 * Checking who is currently logged in
 * Global cleanup or maintenance tasks

 The returned unit can be used with the .gnext field to traverse through the entire global list.

== Examples ==
 dilbegin list_online_players();
 var
    unit : unitptr;
    count : integer;
 code
 {
    sendtext("Currently online players:&n", self);
    
    unit := ghead();
    count := 0;
    
    while (unit != null) {
       if (unit.type == UNIT_ST_PC) {
          if (visible(self, unit)) {
             sendtext("  " + unit.name + " (" + unit.title + ")&n", self);
             count := count + 1;
          }
       }
       unit := unit.gnext;
    }
    
    sendtext("&nTotal visible players: " + itoa(count) + "&n", self);
    quit;
 } dilend

 dilbegin global_cleanup();
 var
    unit : unitptr;
 code
 {
    unit := ghead();
    
    while (unit != null) {
       // Perform cleanup operations on all units
       if (unit.type == UNIT_ST_OBJ) {
          // Clean up objects if needed
       }
       
       unit := unit.gnext;
    }
    
    quit;
 } dilend

== Usage Notes ==
* Returns the last character to have logged on as the first unit
* Use with '''gnext''' field to iterate through the entire global list
* The global list contains all unit types: players, NPCs, objects, and rooms
* Returns null if no units exist in the game

== Error Handling ==
* Returns null if the global list is empty
* Always check return value before using the returned unit
* The function itself does not fail under normal circumstances

== Related Functions/Fields ==
* [[Manual:DIL_Manual/gnext|gnext]] - Next unit in global list
* [[Manual:DIL_Manual/gprevious|gprevious]] - Previous unit in global list
* [[Manual:DIL_Manual/visible|visible]] - Check if unit is visible to another

== See Also ==
* [[Manual:DIL_Manual/unitptr|unitptr]] - Unit pointer type and fields