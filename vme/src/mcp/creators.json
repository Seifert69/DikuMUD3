{
    "keyword": "creators",
    "opcode": "DILSF_CREATORS",
    "yacc_rule": "| DILSF_CREATORS /* .creators */\n{\n    INITEXP($$);\n    $$.rtyp = DilVarType_e::DILV_ZP;\n    $$.typ = DilVarType_e::DILV_SLP;\n    $$.dsl = DSL_LFT;\n    $$.num = DILF_CREATORS;\n}",
    "dilfe_name": "DILF_CREATORS",
    "c_implementation": "case DILF_CREATORS:\n            switch (dil_getval(v1))\n            {\n                case DILV_NULL: /* not applicable */\n                case DILV_FAIL:\n                    v->type = DILV_FAIL; /* not applicable */\n                    break;\n                case DILV_ZP:\n                    if (v1->val.ptr)\n                    {\n                        v->atyp = DILA_NORM;\n                        v->type = DILV_SLPR;\n                        v->ref = &(((zone_type *)v1->val.ptr)->getCreators());\n                    }\n                    else\n                    {\n                        v->type = DILV_FAIL; /* not applicable */\n                    }\n                    break;\n                default:\n                    v->type = DILV_ERR; /* wrong type */\n                    break;\n            }\n            break;",
    "dil_example": "dilbegin do_help(s:string);\nexternal\n   stringlist readindex(s:string,letter:string);\n   string gettopic(s:stringlist);\n   string selecttopic(s:stringlist,t:string);\n   string spinsearch (s:stringlist,t:string);\n\nvar\n\ttxt:string;\n\ti:integer;\n\tln:integer;\n\tbuf:string;\n\trm:unitptr;\n\tzptr:zoneptr;\n\terr:integer;\n\tfileindex:stringlist;\n\tind:stringlist;\n\tref:stringlist;\n\ttemp:stringlist;\n\ttlist:stringlist;\n    pay : string;\n\ncode\n{\n   if (s==\"\")\n      s:=\"help\";\n\n\tif (s==left(\"topics\", length(s)))\n\t{\n\t\tfileindex := readindex(\"help.index\", \"all\");\n\t\tsendtext (\"This is the full help topic list.  \"+\n\t\t\"To find out how to get a partial listing do 'help help'<br/>\",self);\n\t\tbuf:=gettopic(fileindex);\n\t\tpagestring(buf,self);\n\t\tquit;\n\t}\n\n\tif (s==left(\"area\",length(s)))\n\t{\n      zptr:=zhead();\n\n      rm:=self.outside;\n      while (rm.type!=UNIT_ST_ROOM)\n         rm:=rm.outside;\n\n      while (zptr.name!=rm.zoneidx)\n         while (left(zptr.name,length(rm.zoneidx)) != rm.zoneidx)\n            zptr:=zptr.next;\n\n      /*log(\"checking pay\"); */\n      if (not(zptr.payonly))\n         pay := \"This area is not restricted.\";\n\n      if (zptr.payonly)\n         pay := \"This area is restricted to people with donation status.\";\n\n      if (length(zptr.help)>1)\n      {\n         tlist := split(zptr.title,\"@\");\n         sendtext (\"You are in the area known as: \"+tlist.[0]+\".<br/>\",self);\n         sendtext (pay+\".<br/>\",self);\n         pagestring (zptr.help,self);\n         quit;\n      }\n      else\n      {\n         sendtext (\"There is no help on this area written by the creators. You're on your own<br/>\",self);\n         quit;\n      }\n\t}\n\n\n\tif  (\"topic\"==left(s,5))\n\t{\n      ind:=getwords(s);\n      fileindex:=readindex(\"help.index\",ind.[1].[0]);\n      buf:=selecttopic(fileindex,ind.[1]);\n      pagestring(buf,self);\n      quit;\n\t}\n\n\n   fileindex:=readindex(\"help.index\",s.[0]);\n   txt := spinsearch(fileindex,s);\n\n   if (txt==\"\")\n\t{\n      sendtext(\"There is no help available on the subject '\"+s+\"'<br/>\",self);\n      quit;\n\t}\n\n   //sendtext(txt, self);\n   \n   err := loadstr(txt, buf);\n   if (err < 1)\n\t{\n      sendtext(\"There is no help available on the subject '\"+s+\"'<br/>\",self);\n      quit;\n\t}\n\n   pagestring(buf, self);\n\n   temp := split(txt, \".\");\n   txt := toupper(temp.[0].[0]) + right(temp.[0], length(temp.[0])-1);\n   sendtext(\"<a href='https://wiki.dikumud.net/wiki/Help/\"+txt+\"'>View or Contribute on Wiki</a><br/>\", self);\n   quit;\n} dilend"
}