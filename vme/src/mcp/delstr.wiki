= delstr =
 function: '''delstr'''(filename : string) : integer;

The '''delstr''' function deletes a string file from the game's file system.

== Description ==
The delstr function is used to delete files that are managed by the game's string file system (used with loadstr() and savestr() functions). This function operates with security restrictions to prevent unauthorized file deletion.

== Parameters ==
{| class="wikitable"
! Parameter !! Type !! Description
|-
| filename || string || The name of the file to be deleted
|}

== Return Value ==
Returns an integer:
* '''1''' (TRUE) - If the file was successfully deleted
* '''0''' (FALSE) - If the file was not deleted or deletion failed

== Examples ==
=== Basic File Deletion ===
 dilbegin delete_news();
 code
 {
    if (delstr("news.txt")) {
       act("News file deleted successfully.", A_ALWAYS, self, null, null, TO_CHAR);
    } else {
       act("Failed to delete news file.", A_ALWAYS, self, null, null, TO_CHAR);
    }
    quit;
 } dilend

=== Conditional File Management ===
 dilbegin manage_files();
 var
    command : string;
    filename : string;
 code
 {
    wait(SFB_CMD, TRUE);
    command := argument;
    
    if (command == "deletefile") {
       filename := getword(argument, 1);
       
       if (filename != "") {
          if (delstr(filename)) {
             act("File '" + filename + "' deleted successfully.", A_ALWAYS, self, null, null, TO_CHAR);
          } else {
             act("File '" + filename + "' not found.", A_ALWAYS, self, null, null, TO_CHAR);
          }
       } else {
          act("Usage: deletefile <filename>", A_ALWAYS, self, null, null, TO_CHAR);
       }
    } else if (command == "listfiles") {
       act("File management commands: deletefile, listfiles", A_ALWAYS, self, null, null, TO_CHAR);
    } else {
       act("Unknown command.", A_ALWAYS, self, null, null, TO_CHAR);
    }
    quit;
 } dilend

=== Secure File Deletion ===
 dilbegin secure_delete();
 var
    filename : string;
 code
 {
    filename := argument;
    
    // Validate filename
    if (filename == "" or length(filename) > 50) {
       act("Invalid filename. Must be 1-50 characters.", A_ALWAYS, self, null, null, TO_CHAR);
       quit;
    }
    
    if (delstr(filename)) {
       act("File '" + filename + "' deleted securely.", A_ALWAYS, self, null, null, TO_CHAR);
    } else {
       act("Failed to delete file or file not found.", A_ALWAYS, self, null, null, TO_CHAR);
    }
    quit;
 } dilend

== Usage Notes ==
* Only deletes files within the zone's designated string file directory
* Requires zone access level 10 or higher
* Filenames are validated for security (length limits, character restrictions)
* The deletion is permanent and cannot be undone
* Used for managing board messages, temporary data, or other string-based content
* The function performs security logging of all deletion attempts

== Error Handling ==
The function performs validation:
* '''Zone validation''' - Ensures caller has sufficient zone access
* '''Filename validation''' - Checks filename length and valid characters
* '''Security check''' - Logs unauthorized deletion attempts
* '''File existence check''' - Returns FALSE if file doesn't exist

== Related Functions ==
* [[loadstr]] - Load string files
* [[savestr]] - Save string files
* [[log]] - Log system messages

== See Also ==
* [[zone]] - Zone pointer and access control
* [[string file system]] - Game file management