= command =

== Syntax ==
 command( cmd_name : string ) : integer
 command( cmd_num : integer ) : integer

== Parameters ==
; cmd_name : string
: The command name to check
; cmd_num : integer
: The command number to check

== Return Value ==
Returns 1 (TRUE) if the specified command was used, 0 (FALSE) otherwise.

== Description ==
The command function checks whether the current command that activated the DIL program matches a specific command name or command number. This is useful for DIL programs that handle multiple commands and need to determine which specific command triggered the activation.

The function can work with either string command names or integer command numbers, providing flexibility in command matching.

== Usage Notes ==
* Only available in DIL programs activated by SFB_CMD (command triggers)
* Returns TRUE if the current command matches the specified command
* Can check by command name (string) or command number (integer)
* Useful for creating multi-command DIL programs that handle different behaviors
* The command check is case-sensitive when using string comparison

== Examples ==
=== Basic command handling ===
 dilbegin multi_command_handler();
 code
 {
    if (command("north"))
        act("You go north.", A_ALWAYS, self, null, null, TO_CHAR);
    else if (command("south"))
        act("You go south.", A_ALWAYS, self, null, null, TO_CHAR);
    else if (command("look"))
        act("You look around.", A_ALWAYS, self, null, null, TO_CHAR);
    else
        act("Unknown command.", A_ALWAYS, self, null, null, TO_CHAR);
    
    quit;
 } dilend

=== Command-specific processing ===
 dilbegin shopkeeper();
 var
    item : unitptr;
 code
 {
    if (command("buy"))
    {
        // Handle buying logic
        item := findunit(self, argument, FIND_UNIT_IN_ME, null);
        if (item)
            act("You buy $2t.", A_ALWAYS, self, item.title, null, TO_CHAR);
    }
    else if (command("sell"))
    {
        // Handle selling logic
        item := findunit(activator, argument, FIND_UNIT_IN_ME, null);
        if (item)
            act("You sell $2t.", A_ALWAYS, activator, item.title, null, TO_CHAR);
    }
    else if (command("list"))
    {
        // Show inventory
        act("Here are my wares:", A_ALWAYS, activator, null, null, TO_CHAR);
        // Display items...
    }
    
    quit;
 } dilend

=== Command validation ===
 dilbegin restricted_command();
 code
 {
    if (command("admin"))
    {
        if (activator.level < 255)
        {
            act("Only administrators can use admin commands.", 
                A_ALWAYS, activator, null, null, TO_CHAR);
            quit;
        }
        
        // Process admin command...
        act("Admin command executed.", A_ALWAYS, activator, null, null, TO_CHAR);
    }
    else if (command("help"))
    {
        // Show help
        act("Available commands: admin, help, quit", 
                A_ALWAYS, activator, null, null, TO_CHAR);
    }
    
    quit;
 } dilend

=== Complex command router ===
 dilbegin command_router();
 var
    cmd_found : integer;
 code
 {
    cmd_found := 0;
    
    // Check various command categories
    if (command("get") or command("take") or command("grab"))
    {
        cmd_found := 1;
        // Handle object acquisition
        act("You pick up the item.", A_ALWAYS, activator, null, null, TO_CHAR);
    }
    
    if (command("drop") or command("put") or command("place"))
    {
        cmd_found := 1;
        // Handle object placement
        act("You drop the item.", A_ALWAYS, activator, null, null, TO_CHAR);
    }
    
    if (command("say") or command("tell") or command("shout"))
    {
        cmd_found := 1;
        // Handle communication
        act("You say: " + argument, A_ALWAYS, activator, null, null, TO_CHAR);
    }
    
    if (not cmd_found)
    {
        act("Unknown command. Type 'help' for assistance.", 
                A_ALWAYS, activator, null, null, TO_CHAR);
    }
    
    quit;
 } dilend

=== Command with argument processing ===
 dilbegin spell_caster();
 code
 {
    if (command("cast"))
    {
        if (argument == "")
        act("Cast what spell?", A_ALWAYS, self, null, null, TO_CHAR);
        else
            act("You cast '" + argument + "'.", A_ALWAYS, self, null, null, TO_CHAR);
    }
    else if (command("study"))
    {
        if (argument == "")
            act("Study what spell?", A_ALWAYS, self, null, null, TO_CHAR);
        else
            act("You study '" + argument + "'.", A_ALWAYS, self, null, null, TO_CHAR);
    }
    
    quit;
 } dilend

== See Also ==
* [[cmdstr]] - Get the expanded command string
* [[excmdstr]] - Get the original command as typed
* [[excmdstr_case]] - Get the original command preserving case
* [[argument]] - Get the command arguments

== Implementation Details ==
The command function uses the is_command() function to compare the current command (p->sarg->cmd) against the specified command. When passed a string, it performs string comparison against the command name. When passed an integer, it compares against the command's numeric identifier. The function returns a boolean result indicating whether there's a match. This is commonly used in SFB_CMD triggered DIL programs to create command routing and branching logic.