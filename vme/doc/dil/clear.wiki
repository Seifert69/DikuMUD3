= clear =
 function: '''clear'''(interrupt_index : integer);

The '''clear''' function removes a previously set interrupt from the current DIL program.

== Description ==
The clear function removes a previously set interrupt from the current DIL program. This is used to cancel interrupt handlers that are no longer needed, preventing them from triggering when their conditions are met.

== Parameters ==
{| class="wikitable"
! Parameter !! Type !! Description
|-
| interrupt_index || integer || The interrupt index to clear, as returned by a previous interrupt() call
|}

== Return Value ==
This function does not return a value.

== Examples ==
=== Basic Interrupt Clearing ===
 dilbegin simple_interrupt();
 var
    intridx : integer;
 code
 {
    // Set up an interrupt
    intridx := interrupt(SFB_CMD, command("quit"), handle_quit);
    
    // Some code here...
    
    // Clear the interrupt when no longer needed
    clear(intridx);
    quit;
    
    :handle_quit:
    act("Quit command intercepted!", A_ALWAYS, self, null, null, TO_CHAR);
    quit;
 } dilend

=== One-time Interrupt ===
 dilbegin one_time_interrupt();
 var
    intridx : integer;
 code
 {
    // Set up interrupt that will only trigger once
    intridx := interrupt(SFB_MSG, argument == "hello", say_hi);
    
    :loop:
    pause;
    goto loop;
    
    :say_hi:
    act("Hello to you too!", A_ALWAYS, self, null, null, TO_CHAR);
    clear(intridx);  // Remove interrupt after it triggers
    goto loop;
 } dilend

=== Multiple Interrupt Management ===
 dilbegin manage_interrupts();
 var
    intr1, intr2, intr3 : integer;
 code
 {
    // Set up multiple interrupts
    intr1 := interrupt(SFB_CMD, command("stop"), stop_handler);
    intr2 := interrupt(SFB_MSG, argument == "pause", pause_handler);
    intr3 := interrupt(SFB_CMD, command("quit"), quit_handler);
    
    heartbeat := PULSE_SEC * 15;
    
    act("The nightshade berries have a bitter taste.", A_ALWAYS, self, null, null, TO_CHAR);
    pause;
    act("Your stomach starts to rumble...", A_ALWAYS, self, null, null, TO_CHAR);
    pause;
    act("You feel psychotic!", A_ALWAYS, self, null, null, TO_CHAR);
    pause;
    
    // Clear specific interrupts
    clear(intr1);  // Remove stop interrupt
    clear(intr2);  // Remove pause interrupt
    act("All interrupts cleared except quit.", A_ALWAYS, self, null, null, TO_CHAR);
    quit;
    
    :stop_handler:
    clear(intr1);
    clear(intr2);
    clear(intr3);
    act("All interrupts cleared, quitting.", A_ALWAYS, self, null, null, TO_CHAR);
    quit;
    
    :pause_handler:
    act("Pausing for a moment...", A_ALWAYS, self, null, null, TO_CHAR);
    goto main_loop;
    
    :quit_handler:
    clear(intr1);
    clear(intr2);
    clear(intr3);
    act("All interrupts cleared, quitting.", A_ALWAYS, self, null, null, TO_CHAR);
    quit;
 } dilend

=== Dynamic Interrupt Management ===
 dilbegin dynamic_interrupts();
 var
    msg_intr : integer;
    cmd_intr : integer;
 code
 {
    // Set up dynamic interrupts based on conditions
    msg_intr := interrupt(SFB_MSG, TRUE, message_handler);
    cmd_intr := interrupt(SFB_CMD, TRUE, command_handler);
    
    // Main loop
    pause;
    goto main_loop;
    
    :message_handler:
    // Handle message interrupt
    clear(msg_intr);  // Remove after handling
    goto main_loop;
    
    :command_handler:
    // Handle command interrupt
    clear(cmd_intr);  // Remove after handling
    goto main_loop;
    
    :main_loop:
    pause;
    goto main_loop;
 } dilend

== Usage Notes ==
* The interrupt index must be a valid value returned by a previous interrupt() call
* If the interrupt index is invalid, the function may clear the wrong interrupt or do nothing
* Clearing an interrupt that has already been cleared is safe but has no effect
* This function is commonly used with interrupt() to manage dynamic interrupt handling
* The clearing is immediate and affects the current execution cycle

== Error Handling ==
The function performs validation:
* '''Index validation''' - Ensures interrupt index is valid
* '''State validation''' - Ensures proper interrupt context
* '''Runtime validation''' - Validates interrupt management state

== Related Functions ==
* [[Manual:DIL_Manual/interrupt|interrupt]] - Set up interrupt handlers
* [[Manual:DIL_Manual/SFB_*|SFB_*]] - Interrupt trigger flags
* [[Manual:DIL_Manual/pause|pause]] - Pause program execution

== See Also ==
* [[Manual:DIL_Manual/interrupt|interrupt]] - Interrupt management system
* [[Manual:DIL_Manual/execution control|execution control]] - DIL program flow control