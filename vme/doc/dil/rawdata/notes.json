{
    "keyword": "notes",
    "opcode": "DILSF_NOTES",
    "yacc_rule": "| DILSF_NOTES /*.notes*/\n{\n    INITEXP($$);\n    $$.rtyp = DilVarType_e::DILV_ZP;\n    $$.typ = DilVarType_e::DILV_SP;\n    $$.dsl = DSL_LFT;\n    $$.num = DILF_NOTES;\n}",
    "dilfe_name": "DILF_NOTES",
    "c_implementation": "case DILF_NOTES:\n            switch (dil_getval(v1))\n            {\n                case DILV_NULL: /* not applicable */\n                case DILV_FAIL:\n                    v->type = DILV_FAIL; /* not applicable */\n                    break;\n                case DILV_ZP:\n                    if (v1->val.ptr)\n                    {\n                        v->atyp = DILA_NORM;\n                        v->type = DILV_SPR;\n                        v->ref = ((zone_type *)v1->val.ptr)->getNotesPtrPtr();\n                    }\n                    else\n                    {\n                        v->type = DILV_FAIL;\n                    }\n                    break;\n                default:\n                    v->type = DILV_ERR; /* wrong type */\n                    break;\n            }\n            break;",
    "dil_example": "dilbegin patrol(locations : stringlist);\nexternal\n    integer walk_room@function (s:string,i:integer);\nvar\n    tf : integer;\n    i : integer;\ncode\n{\n    heartbeat := PULSE_SEC*10;\n    pause;\n\n    i := 0;\n    while (i < length(locations))\n    {\n        tf := walk_room@function(locations.[i], PULSE_SEC * 8);\n        pause;\n        if (tf == TRUE)\n        {\n            exec(\"emote Speaks with the Guards.\", self);\n        }\n        i:=i+1;\n    }\n\n    pause;\n    heartbeat := PULSE_SEC*10;\n\n    if (tf==TRUE)\n    {\n        pause;\n        exec(\"emote jots some notes on a piece of paper.\", self);\n        pause;\n        exec(\"emote dispatches a runner to the captain.\", self);\n    }\n    return;\n} dilend"
}