{
    "keyword": "mudyear",
    "opcode": "DILSE_TYE",
    "yacc_rule": "| DILSE_TYE\n{\n    INITEXP($$);\n    $$.dsl = DSL_DYN;\n    $$.typ = DilVarType_e::DILV_INT;\n    add_ubit8(&($$), DILE_TYE);\n}",
    "dilfe_name": "dilfe_tye",
    "c_implementation": "void dilfe_tye(dilprg *p)\n{\n    dilval *v = new dilval;\n    /* MudYear */\n\n    v->type = DILV_INT;\n    v->atyp = DILA_NONE;\n    v->val.num = mud_date().getYear();\n    p->stack.push(v);\n}",
    "dil_example": "dilbegin do_time(arg : string);\n\nvar\n\n   buffer   :  string;\n   temp     :  string;\n   i        :  integer;\n   j        :  integer;\n   ampm     :  string;\n   day      :  string;\n   dday     :  integer;\n   month    :  string;\n   mlist    :  stringlist;\n   dlist    :  stringlist;\n   st       :  string;\n\ncode\n{\n   /*\n   sendtext(\"DEBUG<br/> mudday : \" + itoa(mudday) + \"<br/> mudhour \" + itoa(mudhour)\n   + \"<br/> mudmonth \" + itoa(mudmonth) + \"<br/>\", self);\n   */\n   mlist := {\"Month of Winter\", \"Month of the Winter Wolf\",\n   \"Month of the Frost Giant\", \"Month of the Spring\",\"Month of Futility\",\n   \"Month of the Sun\", \"Month of the Heat\",\"Month of the Long Shadows\",\n   \"Month of the Ancient Darkness\"};\n\n   dlist := {\"the Day of the Bull\", \"the Day of the Deception\",\n            \"the Day of Thunder\", \"the Day of Freedom\",\n            \"the Day of the Great Gods\", \"the Day of the Sun\",\n            \"the Day of the Moon\"};\n\n   i := mudhour;\n   /* MS2020 ... bizarre! i:=i+1; 0 o'clock is 0 oclock and 1 is 1.*/\n   if (i<13)\n   {\n      ampm := \"AM\";\n      if (i==12)\n         ampm := \"O-clock, High noon!\";\n      else if (i==0)\n      {\n         ampm := \"O-clock, Midnight!\";\n         i := 12;\n      }\n   }\n   else\n   {\n      i:=i-12;\n      ampm := \"PM\";\n   }\n\n   j := mudday;\n   day := dlist.[j % 7];\n   month := mlist.[mudmonth];\n\n   dday := mudday + 1;\n\n   if (dday == 1)\n      st := \"st\";\n   else if (dday == 2)\n      st := \"nd\";\n   else if (dday == 3)\n      st := \"rd\";\n   else\n      st := \"th\";\n\n   buffer := \"It is \" + itoa(i) + \" \" + ampm + \", on \" + day + \",<br/>\";\n   buffer := buffer + \"   the \" + itoa(dday) + st + \" Day of the \" + month +\n   \", Year \" + itoa(mudyear) + \".<br/>\";\n\n   sendtext(buffer, self);\n\n   quit;\n} dilend"
}